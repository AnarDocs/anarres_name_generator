<!DOCTYPE html>
<html>
<head>
  <title>Anarres Name Generator</title>
</head>
<body>
  <h1 align="center">Anarres Name Generator</h1>
  <p>This Generator creates names similar to those generated by the algorithm used on Anarres, the desert planet of the exile anarchists, in the 'ambiguous utopia' 'The Dispossessed' by Ursula K. Le Guin</p>
<h2 align="center"> Your Pravic Name Is:
    <p id="name"></p></h2>
<em></br>
    <p>Source: <a href="https://github.com/AnarDocs/anarres_name_generator/">https://github.com/AnarDocs/anarres_name_generator/</a></p>
    <p>Converted from the Ruby: <a href="https://github.com/rakvat/anarres_name_generator/">https://github.com/rakvat/anarres_name_generator/</a></p>
    <p>Based on the work here: <a href="http://zrajm.org/nerd/pravic/"">http://zrajm.org/nerd/pravic/</a></p>
</em>
  <script>
    const VOWELS = ['a', 'e', 'i', 'o', 'u'];
    const CONSONANTS = ['b', 'd', 'f', 'g', 'k', 'l', 'm', 'n', 'p', 'r', 's', 't', 'v', 'z'];
    const CONSONANTS_TO_AVOID = ['c', 'h', 'j', 'q', 'w', 'x', 'y'];
    const COMBINED_CONSONANTS = ['ch', 'gv', 'kv', 'sh'];
    const COMBINED_CONSONANTS_FOR_PART = {
      begin: ['sk', 'tr'],
      middle: ['rd', 'rr', 'rz', 'ss'],
      end: ['ks']
    };
    const NON_VOWEL_SOUNDS = CONSONANTS.filter(c => !CONSONANTS_TO_AVOID.includes(c)).concat(COMBINED_CONSONANTS);
    const NON_VOWEL_SOUNDS_FOR_PART = {
      begin: NON_VOWEL_SOUNDS.concat(COMBINED_CONSONANTS_FOR_PART.begin),
      middle: NON_VOWEL_SOUNDS.concat(COMBINED_CONSONANTS_FOR_PART.middle),
      end: NON_VOWEL_SOUNDS.concat(COMBINED_CONSONANTS_FOR_PART.end)
    };

    function generateName() {
      let name = '';
      name += NON_VOWEL_SOUNDS_FOR_PART.begin[Math.floor(Math.random() * NON_VOWEL_SOUNDS_FOR_PART.begin.length)];
      name += VOWELS[Math.floor(Math.random() * VOWELS.length)];
      name += NON_VOWEL_SOUNDS_FOR_PART.middle[Math.floor(Math.random() * NON_VOWEL_SOUNDS_FOR_PART.middle.length)];
      name += VOWELS[Math.floor(Math.random() * VOWELS.length)];
      name += NON_VOWEL_SOUNDS_FOR_PART.end[Math.floor(Math.random() * NON_VOWEL_SOUNDS_FOR_PART.end.length)];
      return name.charAt(0).toUpperCase() + name.slice(1);
    }

    function getName() {
      let proposal;
      do {
        proposal = generateName();
      } while (proposal.length !== 5 && proposal.length !== 6);
      return proposal;
    }

    document.getElementById('name').textContent = getName();
  </script>
</body>
</html>
